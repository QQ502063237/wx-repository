<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>会员中心</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../css/mui.min.css" rel="stylesheet" />
		<style>
			#demo1{
	    		width:80%;
	    	}
	    	#headImage img{
	    		width: 16%;
	    		margin-left: 8%;
	    		margin-top: 10px;
	    		border-radius: 50%;
	    		border: 1px white solid;
	    	}
	    	#desc{
	    		position: absolute;
	    		right: 20px;
	    		top: 20px;
	    	}
	    	
	    	#user-name{
	    		position: absolute;
	    		left: 28%;
	    		top: 3%;
	    		font-size: 15px;
	    	}
	    	#user-name img{
	    		
	    		width: 7%;
	    	}
	    	#jf{
	    		font-size: 15px;
	    		position: absolute;
	    		left: 28%;
	    		top: 7%;
	    	}
	    	#icon{
	    		position: relative;
	    		/*left: 120px;
	    		margin-left: 82%;*/
	    		top: 10px;
	    		font-size: 12px;
	    	}
	    	#ad{
	    		border: 1px white solid;
	    		overflow: hidden;
	    	}
	    	#ad img{
	    		width: 100%;
	    		height: 200px;
	    	}
	    	#vip-content{
	    		height: 190px;
	    		width: 90%;
	    		margin-left: 5%;
	    		margin-top: 20px;
	    		border: 1px white solid;
	    		background-color: white;
	    		border-radius: 20px;
	    	}
	    	#font{
	    		font-size: 26px;
	    		margin-left: 20px;
	    		position: relative;
	    		top: 20px;
	    	}
	    	.float{
	    		width: 18%;
	    		margin-top: 50px;
	    		margin-left: 11%;
	    		float: left;
	    		text-align: center;
	    		/*font-size: 14 px;*/
	    		/*position: relative;*/
	    	}
	    	.float span{
	    		font-size: 14px;
	    	}
	    	.float img{
	    		border-radius: 50%;
	    		/*margin-left: 50px;*/
	    		/*border: 1px red solid;*/
	    		width: 100%;
	    	}
	    	#commit{
	    		width: 100%;
	    		position: fixed;
	    		bottom: 0px;
	    		display: block;
	    	}
	    	#commit input{
	    		width: 100%;
	    		height: 50px;
	    		border-radius: 8px;
	    		font-size: 22px;
	    		background-color: lightseagreen;
	    	}
		</style>
	</head>

	<body>
		<script src="../js/mui.min.js"></script>
		<script type="text/javascript">
			mui.init()
		</script>
		<div class="mui-content">
			<div>
				<div id="headImage">
					<img src="../images/headimg.jpg"/>
				</div>
				<div id="user-name">
					<span>微信名哈哈哈</span>
					<img src="../images/vip-3.png" align="top"/>
				</div>
				<div id="jf">
					<label>当前积分：</label>
					<a href="#">
						<span>50</span>
					</a>
				</div>
				<div id="desc">
					<a href="vip-desc.html">
						<span>会员说明</span>
					</a>
				</div>
			
			</div>
		
	    <!--有准确值得进度条--> 
	    <div style="padding: 20px;"> 
	        <div id="demo1" class="mui-progressbar"> 
	            <span></span> 
	        </div>
	        <span class="mui-icon mui-icon-info" id="icon">
	        	累计获得<span></span>成长值，还需要<span></span>成长值升级
	        </span>
	    </div> 
	    
	    <!-- 广告 -->
	    <div id="ad">
	    	<img src="../images/vipad.jpg" />
	    </div>
	    
	    <!--
        	尊享权益
        -->
	    <div id="vip-content">
	    	<div id="font">
	    		<span>尊享权益</span>
	    	</div>
	    	<div id="first" class="float">
	    		<img src="../images/a_副本.png" />
	    		<span>会员价</span>
	    	</div>
	    	<div id="second" class="float">
	    		<img src="../images/s_副本.png" />
	    		<span>会员折扣</span>
	    	</div>
	    	<div id="third" class="float">
	    		<img src="../images/d_副本.png" />
	    		<span>积分返还</span>
	    	</div>
	    </div>
		<div style="height: 55px;"></div>
		<div id="commit">

		    <input type="button" value="成为会员" />
		
		</div>
		<script type="text/javascript" src="../js/jquery-1.12.2.js" ></script>
		<script>
			
		    
		    //判断是否是会员，1为会员，0不是会员
		    
		    var da = {
		    	vip:1,					//是否为vip   1为vip  0为普通
		    	vipLevel:3,				//vip等级     	1为青铜会员	2为白银会员	3为黄金会员	4为铂金会员
		    	growth:19900,			//成长值
		    	points:80,           	//积分
		    	
		    }
		    
		    setPro(da);
		    /*有准确值得进度掉 */ 
		    function setPro(data){ 
		        var obj = mui('#demo1'); 
		        var percentage;
		        
		        if(data.vip == 1){
		        
					if(da.vipLevel == 1){
						percentage = da.growth/1000*100;
					}else if(da.vipLevel == 2){
						percentage = da.growth/10000*100;
					}else if(da.vipLevel == 3){
						percentage = da.growth/100000*100;
					}else{
						percentage = da.growth/1000000*100;
					}
				}
				//这里data是百分比
				obj.progressbar({progress:percentage}).show();
				
		    } 
		    
		    getRole(da);
		    function getRole(data){
		    	if(data.vip==1){//如果是会员
		    		//按钮
		    		$("#commit").css("display","none");
		    		//会员权益图标
		    		$(".float img").eq(0).attr("src","../images/a-light.png");
					$(".float img").eq(1).attr("src","../images/s-light.png");
					$(".float img").eq(2).attr("src","../images/d-light.png");
					
					//积分
					$("#jf span").text(data.points);
					
					//判断会员等级,显示对应的图标
					if(data.vipLevel==1){
						$("#user-name img").attr("src","../images/vip-1.png");
						//成长值
						$("#icon span").eq(0).text(data.growth);
						$("#icon span").eq(1).text(1000-data.growth);
					}else if(data.vipLevel==2){
						$("#user-name img").attr("src","../images/vip-2.png");
						//成长值
						$("#icon span").eq(0).text(data.growth);
						$("#icon span").eq(1).text(10000-data.growth);
					}else if(data.vipLevel==3){
						$("#user-name img").attr("src","../images/vip-3.png");
						//成长值
						$("#icon span").eq(0).text(data.growth);
						$("#icon span").eq(1).text(100000-data.growth);
					}else{
						$("#user-name img").attr("src","../images/vip-4.png");
						//成长值
						$("#icon span").eq(0).text(data.growth);
						$("#icon span").eq(1).text(1000000-data.growth);
					}
		    	}else{
		    		$("#user-name img").attr("src","../images/vip-0.png");
		    		$("#commit").css("display","block");
		    		$(".float img").eq(0).attr("src","../images/a.png");
		    		$(".float img").eq(1).attr("src","../images/s.png");
		    		$(".float img").eq(2).attr("src","../images/d.png");
		    		$("#icon span").eq(0).text(0);
					$("#icon span").eq(1).text(" ");
					$("#jf span").text(0);
		    	}
		    }
		    
		</script>
	</body>

</html>